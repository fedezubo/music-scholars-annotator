(this["webpackJsonpmusic-scholars-annotator"]=this["webpackJsonpmusic-scholars-annotator"]||[]).push([[0],{207:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQEAAAA1CAYAAABBcF7yAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAERVJREFUeNrsXWmMHEcVrh7fINnNjxAIItsOIIQ4dlaKkzg+dsY57MRRdvyHPyB2RgIUEGh3cwoRMTM/SEzsaHclRAQ5diYEhPjjseQoh4m313buiG0n4oyI286fhLOdPz4ST/FeT/VuT031NdM9M7uuJ5Wmp7vrelXvq/deHU2IJEmSJEmSJEmSJEmSJEmSJEmSJEmSLjlSlmKhzxa+pBKqpGldyRCaGiR1uKZK4eO/PaHLJpUkKRqt7PcCnrvjKhWwKk3qqQwI/SAKP6kTbQHC6FKFMkmSJAi00IXxz6gUhZymMgQFvp6CER4Enrr0Fur6lSRJ0tIFgQ/vu4yN8Aob4VMg/C6Bt4Ue/lBnmHcP+a3XUhmQJKmPQeCj4nrbhocAI3xqEIQerqm2IOCxjOxSNQhDt912G5pSaRaQhiFYEE6w/waGQ4cOmZJbEgTapvoDazONET7VsOFB4Kl7RFcUJrP+o3so6gBAQCBm4SeTBA9AiBSWRwl+ihGiWkwQTUrpHPzWnn76aauTsuzevVtTFCUPl6MQNI/XchxvDMi/CpeVqPkL+GoCPzYmBGotbejw3vUOPp+NmLSObQE8ONhJG0DeB3jeIk+hjIV+AYFUrMK/d1W6/uDqNGN4kahX5hRtm0Yu/1qL3PrJdNOFQhf+KzaAcPc70R0oTSx0kIcKIQMBhXYGwkkQ4vE2hV+FgCB0EtIrUhuMQ5cD23GS5V/qkK9au3UIqF+e8UrI+w7bGdPNudqg1A7/MQ1B2jl8tixBgCHe5IIcD36TkMFvkNSuvd7S7vXbBVOgT0FABAqTt9566yyE0B0H3k1DvHkm/J3mX4T05jHNDvhajFL+EPVTveqWQDu7eaBG6F95n/RyyxMEFDKwYGs65v7lX20Z0ZuFlkq7PhzhyDR7yy23BHZCeAe1iHkf1d9W0ZnK6w5+Km+a5Z9us/y2IMXFDEhrPKB+SVA6bBuwMo6286yvfAJ0f8qxpXTl7nqW3cMONgn/PyGIMg1CXgVZtu0v+uZT0NWOEXr2g4b8b9xCUoVDi+bDH/aR+uH9PqN7h/6C4EZCm3cu4DXejkbhqUbRNgRUDoi2AQLyme9saaae7gkAgBmPfE27jcDGfeaZZ0yP+BrLW+Q/wPKgEGQhvhGxzkjjEHfaK++wxMo45pNPmPJUIJwKaIOcgAfYBmjnZwPKmGag4QnqWI9OedENxyA29ASEEa4jWQgQAAR6k1px34dGwzG4piGo1ilC//cu3FCaBLf+2O1E2f1AO5pG8zoBZwqxTUyABqgEvbNr165hHgSeffbZUicgECY+5FtmplWeN7ngWQbS0AVxUFuY8XA2liHOVAieYPti+UqQnsipaQMBPMtCekZEECAMxLIdgndRAJBRQaAq4iFHEx48yMD9PMSv+OQ5FqJoY0y++tocQEYPohAwrcABgQL7bXYM/mwVre9dTQPt9au2EmXtBpdw0wT8BLGpnYE2ZxLxoYNZEArwfkWQRksH27lzJ6rbBwTvoqBmwwCAB1gNQRqWwKY9gHm24WvJQLxMu+2BcX1s7Ug+gbA8gHfLIh9HQLvzDkFsxxrvIFwKPgGVjYKmbZPuT5XYyJThzQa6b0VJIbRhZw5sJ8q2HxNlYNuCENtyfO4MoSeP22YBtU4TglpCi4w3+wgU8X3s2JVLYYHQc889JwLcnMcIqwo0Oc8RO6QQGGzk5v0FGok29cmXtV0q9qANSsxn0lR/ACTNA6hEptxBFvg0cn0NAqDuG+gLYP4AnTXAMFNjciD8sxDSDBTGQGJtsCAbBgjZ9AOCYNAk3u+9RepP3E7qj99OLj46Qup//F2YsdRg9huqTdl1j/1dWff434bWzfyl0AwOyTgVe6UJ8L4LPo2bb755AYjxWjDy4OhdgA5sxSAEuGZgj6Au45C3FqLOJj9lCPEiTxlCHNGUoJWkJuDXBmwaVfTuCF9G4GGNaQJ8eUf6XRMQAUOWjTCWy1FijzrKvR81bL23fk3IP094ju4+10zgqS3wa35+SlnzC3No7SPvFNb+8h9Ta3/1ti70EyxDc4BLQw+YhhwTPC8///zzRlx8gLT0sGqx4J2qAAiKN910U2i7Ht8VTAmaInMpIRAww4AAlFMTmQKMh5bAJMhH4UMvHIOtzNifoi71hjCfwRnbXHhoJaV1kMut9xNyJZgEEOzZAfO4l9MRAgW0UIzVD7+nE0mR6cYbb9QE5oF5+PDhqQSym2JaoOq2fZmPKIjwHfeqPWfKcCKkEI4risJrHWXS/WnCoHLmFKVlZKpyZkGej8O03b7XBBzb0AmjzAxAtc6t0mQpaAL0NzsJfWoXoe+/2Yir0IZKr5Dsyp/+V1n14H+GVu39d2HVQ/+aWrXv/Q4BgCbZqP2gCWR80hE9m06CFwAsFj/yojADEOWC6gxxdV6jwb7DQCwM0PHajg5pVpJ2DLrS0Dycrjzx5URANlw8rPFaBQPW/tME2GyACeq/ycwAy+0cgecWAwN8b1i556KCmoDt6T9zCoyF04TWFbLi/rNL2n/XjtDGGZ+l0bKw5IUXXtAd+1MQpZYgP6oM+N007M7Tq87oo4CfkwInYTYgT9GUYDksf5NqA95he8MNN+C6AB7UpgVp1TgepiGuBm1q9psmUCStc9Q8TTKNAEBhhaPqzXat9F2YQuy1JrBjx44ZwShU8xmhjCQ7E6RtCJxb6YA6D7O4Ihs+A3XM+NRfNCVYcYFg4poAlGFcoI2ZyAsunzFBHrWQTsaeaQMpNqqjl58XXkS0UeeZ4HmV2TfVhpOQZrrss2s2A5bZfGE2m1URADyA2D26pP1Gp4TIEPSVsDRBWqcbZwIGIzdZJHjFZWwEbVAirv0wvCbCEe+b0UWAfOTIEUPAw55NFa50dZy8wJEz6fNcI4tLS8usM1YbjbZ8zvxKwhwAAc/4RFGZeo2jn8hrPDU7O6v7pH+iCzyx/EDAj2cgABbUf5oTbg3ujUO9pjg+2VOCPADCe2aU9vF4ZzSgHexlwwL13gZBKENFUFbVxyEoMqvSHA9ykG6tVyBwgmkEaVwbwHwAOrP7TZ+OZbo6gAVyr4P8F5fT2X8J+QTaNZkMXdcn4rZ326jTCb+RK6hM0NFLmUyG35tQhHsVqJ8NMHAt2nCEz6ai1t/jnXyb1bdEPoyovhlm0vEaxkiS/pwgn8Ak98sza9IBCXt14P4UIl6FaQBZhuqAanS26z1SuWR2HlZIh2vuYwSBgRiS4acGm4TeY5fghAMSPSIcIIf4MgwPD2sCUKz4lRWemQKBz0NaXV8zsJKN+sIx29k5uNAwDb8AqlBZtnnIZPdt1Ui55yKYEBdJY/9At1WB5FYM9jI+43F5bm6uEjL9gS4wW+PytaLWGYSgBh1eJ81L0MfhnuPv4HcJGiIedGl2wGJ+mCkog0iwc4I8DoYo10EBeHR9zUCkxUIICq7FQm6yt2TSfSsoraeW1bEAPQQBHHUKR48eNQLSN7kRU+sCTzRBWSPXGd5DbWCeuz3DgE8N0BySBgGdCT9uNa9AO1g+6fOefQver4Uol2MSuOs61tcgAADgNhuGXOBQYiAwwjpEvlvHgjeySU7rSAIEjh071lTY7du348g6z3UGjfgf8uEFApkk+b1t2zZNAAJmOzxDgIP0Kpx9Lip/DXimxwwCWa80I/IjI+CHCvdpm+VKQ9w0lM3oGQi4VP4ys1kmXUhcZR0173rPUZcMkMW0olCVfuVbRIFAn9rZJb8AWdLaBwiDCQ1f5nwyyOcDbrD1oDlecCCtHHSipBxMGY8ydOIbyBH/8wEm+rj5RhNKs2sgkPJguOHqiA7KqWzmoOpS1yaY6mKx9xoqFK4YxH0Da9XkhV90HbMm0I3FQiC0U7jQh1+Es3Xr1lKQStnNhSce5/rp7fIM6o0Lj6Z9zgcowztmJ/yNY9mwiKBtvA4S7TTku4liIhBIk8W5asul6lkuNdVRQQfZr8ruZez4uJX49FFi/8ZA57+/UTv3vaty5+74XOncdz9fOvudL+TPfvuLWjeG/26uGMRltaJdelu2bPE81+/48eOGYIdbBuLEbhZAmnnBCkUdymB2wjOIX/LYpYcAMdUpf5MCAQYAagIgoAKvu7Z4SOQTGHQEn438ztmCGjtUxFH/LJeWUIF3J+i+1DzuCCRvPZm3zxeknQ3P5394ZQbSKBJcMEK5YX8Zzgy++OKLBjQ+mgVFrrPNXH/99dmXXnrJy0dQJtyqOzyhOCBOJIK07FOPBTvk4lq9N8HMn6Z7wBOrX9sL9xMI+LEnjC+H9yHwdWd7FWo9AQEUZo93NdY5daYtFBxfANtchB8VwU+JpTu10dk3CWcIbrGkSq8buqvxodOXQOBGSPNqsjTj/YRHnArEKXIOQue7AYU4AIA0FjipXH10ABk9Dp5BHWqQj+7yORiQdiUO/iaxoArKirzO8NOYUOZam+kZXJvnkO9xgXhUc8DfDF88VERlnWwSNQSmJZRDOLL8AeDOK1QAkVmFnz/1/AjJ8jEHAsyC8c2bN2cixslDnE6O8iIQHwV/Fv0TgvQn4uQZq0OWhT1x8TcJc8DjnMPpDtKr9so30MmhIo7vwIVe9lRd0XXdDjuK9odKQ3+BONnPFPdincDLL79sXHfddS1mAar8cH/olVdesQRxdI84ebiPbbQH4plRyoHx2OnFLT4JUIMLWM44eQbpmSTiBqheaQKircXAk07Ud3Tw8it2MY+ppEHA2UVIPRYBuWmWa6CG6389aEWoiWJYr3VUmAt3fUoDeR6XHyEhBAS2RMS79WYC4ohUaBTikyDUk9dee21gI+E78C7mMy8CAMwDBLZyqbYN8CZDWhdl1YAnbavuDAB5EEkzAO+KJpAl4Ta1tM754QzAegiXQVnfnSPkzOn2B2cFTADqNdL7XTfsseWiCbjVY9K6oi4HQpp79dVXax5AUIDntgYgeIzr8cfhucF8O2fYr6PRbWA2ud9HMyqQd6HbI28/aQIeB4wcjCFd0TLixNcMNG0gcq0IdLSDkutdi3gt6PgylPOTg0wwO/qsmBoSLLhfqn/syT9ZSXWyXh0qAsJmeBzuOXPNNdeoPvEKHvEW1h+gj4HN+c+y7xUU2b20T7xCEADEwbO4+RunTwD5LjrZGfhSiaEutV74BVIuFEN70r1lGCs1zA4UmW8RUBT8rx8h5PMjhDy8ohHenYunVBE/QqJ08ZCJbtNrr70mMgtUjy8N8fGyJJ5DRlBbGII0L1kTwCWootWNtZja2hKYc+qmTZsSXTPg7CIsCZ6dYmFAqFp+wPrWZWmhDNNF7SEKVRYdW82qv9KYE2g1AxRSWDfzZ72X6mbSqqiXWQCdI//6669XfDoV8mUjvkcaG1PSbQh/1S+PS9AcGBWkV42xPgcF8pbomgHP2QEEBnZugFgdwaXBCAQIAmvgtfMueV/8RmCkgq/e/5554a5PizzcIsIjzSbWPfHXSsKdbIJDfiti/App/XpNJAIhNK6++uohwQhkhoyPZahAGhqzOYddfgDVVS+DLB4iU3vjjTfMXvAsbv46n2Ljbhtt5lcmnOYJfIptEIK2qkE7ZVv7enLkO4fn+ipxK+FswOafNK5/v2PRFEDhh0DrigW/Q6kfXYjckS7ceUWO1JVJSlOa/TFTTLOeggbAXzvdabieWvfo2327mkySpKVCYUBgkjjbg0NBpS20Fghp1vlKcbt0fuyzaRB6DdJLQzBoPWWufeQdQzabJEm90QSMUDYlxS3FqYJy70dSWCVJWuogIACFHFk4T7CFUOinlbvrFclWSZKWKQi4wEAjzSumFjcRSZIkSZIkSZIkSZIkSZIkSZIkSZIkqe/p/wIMAMflv55Wc/6WAAAAAElFTkSuQmCC"},429:function(e,t,n){e.exports=n.p+"static/media/play-solid.f79fe6ae.svg"},436:function(e,t,n){e.exports=n(924)},451:function(e,t){},453:function(e,t){},462:function(e,t){},464:function(e,t){},490:function(e,t){},492:function(e,t){},493:function(e,t){},498:function(e,t){},500:function(e,t){},519:function(e,t){},531:function(e,t){},534:function(e,t){},561:function(e,t){},596:function(e,t){},597:function(e,t){},924:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(38),r=n.n(i),s=n(6),l=n(8),c=n(11),u=n(12),d=n(54),h=n(41),p=n(423),m=n(424),g=n.n(m),f=n(209),v=n(25),b=n(152),y=n(927),E=n(931),w=n(928),A=n(932),C=n(929),k=n(930),S=n(24),O=n(19),x=n(435),I=n(427),B=n(428),j=n(274),M=n(205),T=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={value:"",seconds:"",target:[],buttonStatus:"disabledSubmitButton"},e.onChange=function(t){return e.setState({value:t.target.value})},e.onTimeChange=function(t){return e.setState({seconds:t.target.value},(function(){return console.log(e.state.seconds)}))},e}return Object(l.a)(n,[{key:"wipeState",value:function(){this.setState({value:"",seconds:""})}},{key:"render",value:function(){var e={value:this.state.value,seconds:this.state.seconds};return o.a.createElement("div",null,"playlist"===this.props.annotationType&&o.a.createElement("div",null,o.a.createElement("input",{type:"text",value:this.state.value,name:"value",placeholder:"enter link here",onChange:this.onChange,className:"sizedTextBox"}),o.a.createElement("span",null," with title: "),o.a.createElement("input",{type:"text",placeholder:"title",name:"seconds",value:this.state.seconds,onChange:this.onTimeChange,className:"sizedTextBox"})),"cueMedia"!==this.props.annotationType&&o.a.createElement("textarea",{className:"textArea",id:"annotationContent",name:"value",value:this.state.value,placeholder:this.props.placeholder,onChange:this.onChange}),"cueMedia"===this.props.annotationType&&o.a.createElement("div",null,o.a.createElement("input",{type:"text",value:this.state.value,name:"value",placeholder:"enter link here",onChange:this.onChange,className:"sizedTextBox"}),o.a.createElement("span",null," jump to: "),o.a.createElement("input",{type:"text",pattern:"[0-9]",placeholder:"seconds",name:"seconds",value:this.state.seconds,onChange:this.onTimeChange,className:"sizedTextBox"})),this.state.value&&o.a.createElement("button",{className:"enabledSubmitButton",title:"click to post your annotation to your solid POD"},o.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"arrow-alt-to-top",className:"svg-inline--fa fa-arrow-alt-to-top fa-w-12",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",width:"1em",height:"1em",display:"inline-flex"},o.a.createElement("path",{fill:"white",d:"M48 336h51.6v96c0 26.5 21.5 48 48 48h88.6c26.5 0 48-21.5 48-48v-96h51.6c42.6 0 64.2-51.7 33.9-81.9l-143.9-144c-18.7-18.7-49.1-18.7-67.9 0l-144 144C-16 284.2 5.3 336 48 336zm144-192l144 144h-99.7v144h-88.6V288H48l144-144zM0 68V44c0-6.6 5.4-12 12-12h360c6.6 0 12 5.4 12 12v24c0 6.6-5.4 12-12 12H12C5.4 80 0 74.6 0 68z"}))," ",o.a.createElement(M.a,{buttonContent:this.props.buttonContent,submitUri:this.props.submitUri,submitHandler:this.props.submitHandler,submitHandlerArgs:e,onResponse:this.props.onResponse})),!this.state.value&&o.a.createElement("button",{className:"disabledSubmitButton",title:"click to post your annotation to your solid POD"},o.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"file-import",className:"svg-inline--fa fa-file-import fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"1em",height:"1em",display:"inline-flex"},o.a.createElement("path",{fill:"white",d:"M497.83 97.98L413.94 14.1c-9-9-21.2-14.1-33.89-14.1H175.99C149.5.1 128 21.6 128 48.09v215.98H12c-6.63 0-12 5.37-12 12v24c0 6.63 5.37 12 12 12h276v48.88c0 10.71 12.97 16.05 20.52 8.45l71.77-72.31c4.95-4.99 4.95-13.04 0-18.03l-71.77-72.31c-7.55-7.6-20.52-2.26-20.52 8.45v48.88H175.99V48.09h159.97v103.98c0 13.3 10.7 23.99 24 23.99H464v287.95H175.99V360.07H128v103.94c0 26.49 21.5 47.99 47.99 47.99h287.94c26.5 0 48.07-21.5 48.07-47.99V131.97c0-12.69-5.17-24.99-14.17-33.99zm-113.88 30.09V51.99l76.09 76.08h-76.09z"}))," ",o.a.createElement(M.a,{buttonContent:"Write something to begin...",submitUri:this.props.submitUri,submitHandler:this.props.submitHandler,submitHandlerArgs:e,onResponse:this.props.onResponse})),o.a.createElement("button",{onClick:this.props.onRefreshClick,className:"refreshButton",title:"click to display the annotation contained in your solid POD"},o.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"redo-alt",className:"svg-inline--fa fa-redo-alt fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"1em",height:"1em",display:"inline-flex"},o.a.createElement("path",{fill:"white",d:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"})),o.a.createElement("span",null,""," Fetch Annotations")))}}]),n}(o.a.Component),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).submitHandler=function(e){a.textArea.current.wipeState();var t=e.value,n=e.seconds;switch(a.props.annotationType){case"describing":return{"@context":"http://www.w3.org/ns/anno.jsonld",target:a.props.selection.map((function(e){return{id:a.props.uri+"#"+e.getAttribute("id")}})),type:"Annotation",body:[{id:Object(j.a)(),type:"TextualBody",value:t}],motivation:"describing",created:(new Date).toISOString(),creator:a.props.creator};case"linking":return{"@context":"http://www.w3.org/ns/anno.jsonld",target:a.props.selection.map((function(e){return{id:a.props.uri+"#"+e.getAttribute("id")}})),type:"Annotation",body:[{id:t}],motivation:"linking",created:(new Date).toISOString(),creator:a.props.creator};case"cueMedia":return{"@context":"http://www.w3.org/ns/anno.jsonld",target:a.props.selection.map((function(e){return{id:a.props.uri+"#"+e.getAttribute("id")}})),type:"Annotation",body:[{id:t+"#t="+n}],motivation:"trompa:cueMedia",created:(new Date).toISOString(),creator:a.props.creator};case"image":return{"@context":"http://www.w3.org/ns/anno.jsonld",target:a.props.selection.map((function(e){return{id:a.props.uri+"#"+e.getAttribute("id")}})),type:"Annotation",body:[{id:t}],motivation:"trompa:cueImage",created:(new Date).toISOString(),creator:a.props.creator};case"playlist":return{"@context":"http://www.w3.org/ns/anno.jsonld",target:a.props.selection.map((function(e){return{id:a.props.uri+"#"+e.getAttribute("id")}})),type:"Annotation",body:[{id:Object(j.a)(),type:"TextualBody",seconds:n,value:t}],motivation:"trompa:playlist",created:(new Date).toISOString(),creator:a.props.creator};case"replying":return{"@context":"http://www.w3.org/ns/anno.jsonld",target:a.props.replyAnnotationTargetId,type:"Annotation",body:[{id:Object(j.a)(),type:"TextualBody",value:t}],motivation:"replying",created:(new Date).toISOString(),creator:a.props.creator};default:console.log("no annotation found, have you selected the annotation type?")}},a.textArea=o.a.createRef(),a}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"container"},o.a.createElement("h3",null,"Annotation type"),o.a.createElement("label",null,o.a.createElement("input",{title:"adds a textual content to the annotation",type:"radio",name:"annotationType",value:"describing",placeholder:"Add your annotation...",onChange:this.props.onAnnoTypeChange,checked:"describing"===this.props.annotationType}),"Describing"),o.a.createElement("label",null,o.a.createElement("input",{title:"links external resources to the annotation",type:"radio",value:"linking",name:"annotationType",placeholder:"Insert your URI link...",onChange:this.props.onAnnoTypeChange,checked:"linking"===this.props.annotationType}),"Linking"),o.a.createElement("label",null,o.a.createElement("input",{title:"links a media content to the annotation",type:"radio",value:"cueMedia",name:"annotationType",onChange:this.props.onAnnoTypeChange,checked:"cueMedia"===this.props.annotationType}),"Cue Media"),o.a.createElement("label",null,o.a.createElement("input",{title:"links an image content to the annotation",type:"radio",value:"image",name:"annotationType",placeholder:"Insert your image link...",onChange:this.props.onAnnoTypeChange,checked:"image"===this.props.annotationType}),"Image"),o.a.createElement("label",null,o.a.createElement("input",{title:"will be used when the reply button is clicked",type:"radio",value:"reply",name:"annotationType",disabled:!0,checked:"replying"===this.props.annotationType}),"Reply"),o.a.createElement("div",{className:"addAnnotations"},o.a.createElement(T,{ref:this.textArea,annotationType:this.props.annotationType,submitUri:this.props.submitUri,placeholder:this.props.placeholder,submitHandler:this.submitHandler,onResponse:this.props.onResponse,onRefreshClick:this.props.onRefreshClick,buttonContent:this.props.buttonContent,selectorString:this.props.selectorString}))))}}]),n}(o.a.Component),R=function(e){var t=e.label,n=e.onClick;return o.a.createElement("span",null,o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",name:t.name,onClick:n,value:t.value,key:t.value}),t.name))},D=[{name:"Note",value:".note"},{name:"Measure",value:".measure"},{name:"Dynamics",value:".dynam"},{name:"Directives",value:".dir"}],H=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={selectorString:[]},e.createCheckbox=function(t){return o.a.createElement(R,{label:t,onClick:function(n){return e.updateSelectorList(n,t.value)},key:t.value})},e.buildCheckboxes=function(){return D.map(e.createCheckbox)},e}return Object(l.a)(n,[{key:"updateSelectorList",value:function(e,t){var n=this;e.target.checked?this.setState({selectorString:this.state.selectorString.concat([t])},(function(){n.props.handleStringChange(n.state.selectorString)})):this.setState({selectorString:this.state.selectorString.filter((function(e){return e!==t}))},(function(){n.props.handleStringChange(n.state.selectorString)}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h3",null,"Selection type"),o.a.createElement("form",null,this.buildCheckboxes()))}}]),n}(a.Component),P=n(0),L=n.n(P),z=n(9),W=n(20),Q=n.n(W),V=n(206),q=n.n(V),U=n(45),F=n(429),Z=n.n(F),Y=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).showDetails=function(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest(".rootAnno"),n=t.querySelector(".hiddenDetails");if(n&&!1===a.state.isVisible)a.setState({isVisible:!0}),n.classList.remove("hiddenDetails"),n.classList.add("showDetails");else if(!0===a.state.isVisible){a.setState({isVisible:!1});var o=t.querySelector(".showDetails");o.classList.remove("showDetails"),o.classList.add("hiddenDetails")}},a.showReplyDetails=function(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest(".quoteContent"),n=t.querySelector(".hiddenDetails");if(n&&!1===a.state.isVisible)a.setState({isVisible:!0}),n.classList.remove("hiddenDetails"),n.classList.add("showDetails");else if(!0===a.state.isVisible){a.setState({isVisible:!1});var o=t.querySelector(".showDetails");o.classList.remove("showDetails"),o.classList.add("hiddenDetails")}},a.onClick=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.annotation.target,n=a.props.annotation["@id"];a.props.onAnnoReplyHandler(t,n),console.log("reply target id",n)},a.showConfirm=function(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest(".rootAnno"),n=t.querySelector(".hiddenConfirm");if(n&&!1===a.state.isConfirmVisible)a.setState({isConfirmVisible:!a.state.isConfirmVisible}),n.classList.remove("hiddenConfirm"),n.classList.add("showConfirm");else if(!0===a.state.isConfirmVisible){a.setState({isConfirmVisible:!a.state.isConfirmVisible});var o=t.querySelector(".showConfirm");o.classList.remove("showConfirm"),o.classList.add("hiddenConfirm")}},a.onPlayClick=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.annotation.body[0].id;a.props.onMediaClick(t)},a.onPreviewclick=function(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest(".rootAnno").children[0];!1===a.state.isPictureShowing?(a.setState({isPictureShowing:!0,previewButtonContent:"Hide preview"}),console.log(t),document.querySelector(".hiddenContainer").addEventListener("click",(function(e){e.stopPropagation()})),t.classList.remove("hiddenContainer"),t.classList.add("showContainer")):(document.querySelector(".showContainer").addEventListener("click",(function(e){e.stopPropagation()})),a.setState({isPictureShowing:!1,previewButtonContent:"show preview"}),t.classList.add("hiddenContainer"),t.classList.remove("showContainer"))},a.onShowReplyClick=function(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest(".rootAnno");console.log("root anno",t);var n=document.querySelectorAll(".replyAnno");n.length?n.forEach((function(e){var n=e.dataset.replyAnnotationTarget,o=t.dataset.selfId;if(console.log("Reply target anno id: ",n),n===o)if(!1===a.props.areRepliesVisible||!1===a.state.isClicked){a.setState({isClicked:!0}),t.appendChild(e),a.props.showReplyHandler();var i=Array.from(t.getElementsByClassName("showReply"));i.forEach((function(e){return e.classList.add("hiddenReply")})),i.forEach((function(e){return e.classList.remove("showReply")}));var r=Array.from(t.getElementsByClassName("hiddenReply"));r.forEach((function(e){return e.classList.add("showReply")})),r.forEach((function(e){return e.classList.remove("hiddenReply")}))}else{a.setState({isClicked:!1}),a.props.showReplyHandler();var s=document.querySelector(".listContainer"),l=Array.from(t.getElementsByClassName("showReply"));l.forEach((function(e){e.classList.add("hiddenReply"),s.appendChild(e)})),l.forEach((function(e){return e.classList.remove("showReply")}))}})):console.warn("no replies to show for this annotation")},a.renderSwitch=function(){var e,t,n=a.props.annotation.created,i=(new Date).toISOString(),r=n.split("T")[0],s=String(i.split("T")[0]),l=document.querySelectorAll(".replyAnno"),c=a.props.annotation["@id"],u=!1;l.length&&l.forEach((function(e){e.dataset.replyAnnotationTarget===c&&(u=!0)})),e=a.state.datasetWithAcl?Object(U.c)(a.state.datasetWithAcl).read?"public":Object.keys(Object(U.b)(a.state.datasetWithAcl))>1?"shared":"private":"unknown",a.state.userMayModifyAccess?"public"!==e?t=o.a.createElement(q.a,{checked:!1,onChange:a.grantPublic,icons:{unchecked:o.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"lock",className:"svg-inline--fa fa-lock fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512","vertical-align":"middle"},o.a.createElement("path",{fill:"white",d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}))}}):"public"===e&&(t=o.a.createElement(q.a,{checked:!0,onChange:a.revokePublic,icons:{checked:o.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"lock-open",className:"svg-inline--fa fa-lock-open fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},o.a.createElement("path",{fill:"white",d:"M423.5 0C339.5.3 272 69.5 272 153.5V224H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48h-48v-71.1c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v80c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-80C576 68 507.5-.3 423.5 0z"}))}})):t=o.a.createElement("span",{className:"accessPermissions"},"No access");var d=o.a.createElement("div",null,o.a.createElement("div",{className:"hiddenConfirm"},o.a.createElement("div",null,"Delete this annotation and its replies?",o.a.createElement("p",null,o.a.createElement("button",{className:"delteYes",onClick:a.deleteAnno},"yes"),o.a.createElement("button",{className:"deleteNo",onClick:a.showConfirm},"no")))),o.a.createElement("div",{style:{paddingTop:"1.5%"}},s===r&&o.a.createElement("button",{className:"deleteButton",onClick:a.showConfirm},o.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"trash",className:"svg-inline--fa fa-trash fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"100%",height:"100%"},o.a.createElement("path",{fill:"grey",d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}))),o.a.createElement("button",{className:"infoButton",onMouseEnter:a.showDetails,onMouseLeave:a.showDetails},o.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"info-circle",className:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"100%",height:"100%"},o.a.createElement("path",{fill:"grey",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm0-338c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}))),"permissions: ",t)),h=o.a.createElement("div",null,o.a.createElement("div",{className:"hiddenDetails"}," ",o.a.createElement("p",{className:"date"},"Created on: ",n,", access permissions: ",e,".")),o.a.createElement("div",null,!0===u&&o.a.createElement("button",{className:"showRepliesButton",name:"showRepliesButton",onClick:a.onShowReplyClick},a.state.showRepliesButtonContent),o.a.createElement("button",{className:"replyButton",name:"replyButton",onClick:a.onClick},"Reply"))),p=a.props.annotation.motivation,m=a.props.annotation.body[0].value,g=a.props.annotation.body[0].id,f=a.props.annotation.body[0].id,v=a.props.annotation.target[0].id,b=a.props.annotation.target,y=a.props.annotation.creator||"unknown";switch(p){case"describing":return o.a.createElement("div",{className:"rootAnno annoItem","data-target":v,"data-self-id":c}," ",d,o.a.createElement("p",null,m),h);case"linking":if(g.startsWith("http"))return o.a.createElement("div",{className:"rootAnno annoItem","data-target":v,"data-self-id":c},o.a.createElement("p",null,"",d,o.a.createElement("a",{href:g,onClick:"return false;",target:"_blank",rel:"noopener noreferrer"},g)),h);var E="https://"+g;return o.a.createElement("div",{className:"rootAnno annoItem","data-target":v,"data-self-id":c},d,o.a.createElement("p",null,"",o.a.createElement("a",{href:E,onClick:"return false;",target:"_blank",rel:"noopener noreferrer"},g)),h);case"trompa:cueMedia":var w=f.split("#")[0];return o.a.createElement("div",{className:"rootAnno annoItem","data-target":v,"data-self-id":c}," ",d,o.a.createElement("p",null,w," ",o.a.createElement("button",{className:"playButton",onClick:a.onPlayClick}," ",o.a.createElement("img",{src:Z.a,alt:"",style:{width:"5px",alignContent:"center",textAlign:"center"}})," ","play"," ")),h);case"trompa:cueImage":return o.a.createElement("div",{className:"rootAnno annoItem","data-target":v,"data-self-id":c}," ",o.a.createElement("div",{className:"hiddenContainer"},o.a.createElement("a",{href:f,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{title:"click for full res",src:f,alt:"annotation",style:{maxWidth:"240px",maxHeight:"135px",marginTop:"5px"}}))),d,o.a.createElement("p",null,"The content of this annotation is a picture, click the button to see a preview"," ",o.a.createElement("button",{onClick:a.onPreviewclick},a.state.previewButtonContent," ")),h);case"trompa:playlist":return;case"replying":return o.a.createElement("div",{"data-reply-annotation-target":b,"data-self-id":c,className:"replyAnno hiddenReply"},o.a.createElement("div",{className:"quoteContent"},o.a.createElement("button",{className:"deleteButton",onClick:a.deleteAnno},o.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"trash",className:"svg-inline--fa fa-trash fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"100%",height:"100%"},o.a.createElement("path",{fill:"grey",d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}))),o.a.createElement("button",{className:"infoButton",onMouseEnter:a.showReplyDetails,onMouseLeave:a.showReplyDetails},o.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"info-circle",className:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"100%",height:"100%"},o.a.createElement("path",{fill:"grey",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm0-338c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}))),o.a.createElement("p",null,"Reply: ",m),o.a.createElement("span",{className:"hiddenDetails"}," ",o.a.createElement("span",{className:"date"},"Created on: ",n,", access permissions: ",e,"."))));default:return console.log("no motivation provided defaulting to plain text annotation",p),o.a.createElement("div",{className:"annoItem","data-target":v}," ",o.a.createElement("p",null,"The plain text content of this annotation is ",m),o.a.createElement("div",{className:"date"},"Created on: ",n," by ",y," with ",p," motivation"))}},a.state={isClicked:!1,userMayModifyAccess:!1,resourceAcl:null,aclModified:!1,datasetWithAcl:null,userId:null,isPictureShowing:!1,previewButtonContent:"Show preview",showRepliesButtonContent:"Toggle replies",isConfirmVisible:!1,isVisible:!1,resp:""},a.onClick=a.onClick.bind(Object(O.a)(a)),a.grantPublic=a.grantPublic.bind(Object(O.a)(a)),a.revokePublic=a.revokePublic.bind(Object(O.a)(a)),a.updateDatasetAcl=a.updateDatasetAcl.bind(Object(O.a)(a)),a.showDetails=a.showDetails.bind(Object(O.a)(a)),a.deleteAnno=a.deleteAnno.bind(Object(O.a)(a)),a}return Object(l.a)(n,[{key:"deleteAnno",value:function(e){var t=this,n=e.target.closest(".rootAnno"),a=document.querySelectorAll(".replyAnno");a&&a.forEach((function(e){e.dataset.replyAnnotationTarget===n.dataset.selfId&&(console.log("replies found: ",e.dataset.selfId),Q.a.fetch(e.dataset.selfId,{method:"DELETE"}).then(console.log("replies deleted")))})),Q.a.fetch(this.props.annotation["@id"],{method:"DELETE"}).then(function(){var e=Object(z.a)(L.a.mark((function e(n){var a,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(a=e.sent,n.ok){e.next=6;break}return o=a&&a.message||n.status,e.abrupt("return",Promise.reject(o));case 6:t.setState({resp:"success"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(this.props.onRefreshClick()).catch((function(){console.warn("Your annotation has been deleted, refreshing...")}))}},{key:"componentDidMount",value:function(){this.updateDatasetAcl()}},{key:"updateDatasetAcl",value:function(){var e=this;Q.a.currentSession().then((function(t){Object(U.e)(e.props.annotation["@id"],{fetch:Q.a.fetch}).then((function(n){var a;if(console.log("Got dataset: ",n),Object(U.h)(n))a=Object(U.d)(n),e.setState({userMayModifyAccess:!0,datasetWithAcl:n,resourceAcl:a,aclModified:Date.now()}),console.log("Got resource ACL");else if(Object(U.f)(n)||console.warn("You do not have permission to modify access on ",e.props.annotation["@id"]),Object(U.g)(n)){a=Object(U.a)(n);var o=Object(U.j)(a,t.webId,{read:!0,append:!0,write:!0,control:!0});e.setState({userMayModifyAccess:!0,datasetWithAcl:n,resourceAcl:o,aclModified:Date.now()}),console.log("Creating ACL from fallback ACL")}else console.warn("You do not have permission to view access rights list on ",e.props.annotation["@id"])})).catch((function(t){return console.error("Couldn't get Solid dataset with ACL: ",e.props.annotation["@id"],t)}))})).catch((function(e){return console.error("Couldn't access the current Solid session: ",e)}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.aclModified!==t.aclModified}},{key:"grantPublic",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),Q.a.currentSession().then((function(e){var n=Object(U.k)(t.state.resourceAcl,{read:!0,append:!1,write:!1,control:!1});n=Object(U.j)(n,e.webId,{read:!0,append:!0,write:!0,control:!0}),Object(U.i)(t.state.datasetWithAcl,n,{fetch:Q.a.fetch}).then((function(){return t.updateDatasetAcl()})).catch((function(e){return console.error("Could not grant public access: ",e)}))}))}},{key:"revokePublic",value:function(e){var t=this;console.log("Revoking. Old acl: ",this.state.resourceAcl),e.stopPropagation(),e.preventDefault(),Q.a.currentSession().then((function(e){var n=Object(U.k)(t.state.resourceAcl,{read:!1,append:!1,write:!1,control:!1});n=Object(U.j)(n,e.webId,{read:!0,append:!0,write:!0,control:!0}),Object(U.i)(t.state.datasetWithAcl,n,{fetch:Q.a.fetch}).then((function(){return t.updateDatasetAcl()})).catch((function(e){return console.error("Could not revoke public access: ",e)}))}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"annoItemContainer"},this.renderSwitch())}}]),n}(o.a.Component),J=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={order:"desc"},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.state.order,n=this.props.allEntries.filter((function(t){return e.props.filteringEntries.includes(t["@id"])})).sort((function(e,n){return("asc"===t?1:-1)*e.created.localeCompare(n.created)}));function a(e){console.log("i am being clicked");var t=Array.from(e.currentTarget.classList).filter((function(e){return e.startsWith("focus-")}));t.length>1&&console.warn("Element with multiple focus Ids!",e.target),Array.from(document.getElementsByClassName("inFocus")).forEach((function(e){return e.classList.remove("inFocus")})),Array.from(document.getElementsByClassName(t[0])).forEach((function(e){return e.classList.add("inFocus")}))}return o.a.createElement("div",{className:"listContainer",id:"listContainer"},n.map((function(t){var n=t["@id"].substr(t["@id"].lastIndexOf("/")+1);return o.a.createElement("div",{className:"focus-"+n,onClick:a,key:t["@id"],id:n},o.a.createElement(Y,{annotation:t,onAnnoReplyHandler:e.props.onAnnoReplyHandler,onMediaClick:e.props.onMediaClick,replyAnnotationTarget:e.props.replyAnnotationTarget,showReplyHandler:e.props.showReplyHandler,areRepliesVisible:e.props.areRepliesVisible,onRefreshClick:e.props.onRefreshClick}))})))}}]),n}(o.a.Component),G=n(430),K=n.n(G),X=n(431),_=n.n(X),$=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={resp:""},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.annotation["@id"],t=this.props.annotation.body[0].seconds,n=this.props.annotation.body[0].value;return o.a.createElement("div",{className:"rootAnno playlistItem"},o.a.createElement("p",null,t),o.a.createElement("iframe",{src:n,title:e,frameBorder:"0",width:"400",height:"60"}))}}]),n}(o.a.Component),ee=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={visible:!1},a.onClick=a.onClick.bind(Object(O.a)(a)),a}return Object(l.a)(n,[{key:"onClick",value:function(){var e=document.querySelector(".playlist");!1===this.state.visible?(this.setState({visible:!this.state.visible}),e.classList.remove("hidden")):!0===this.state.visible&&(e.classList.add("hidden"),this.setState({visible:!this.state.visible}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("button",{className:"renditionButton",onClick:this.onClick},"Show recordings playlist"),o.a.createElement("div",{className:"playlist hidden"},this.props.allEntries.map((function(t){return"trompa:playlist"===t.motivation&&o.a.createElement("div",{key:t["@id"]},o.a.createElement($,{annotation:t,onRefreshClick:e.props.onRefreshClick}))}))))}}]),n}(o.a.Component),te=window.outerHeight,ne=window.outerWidth,ae=te<1439?2e3:2500,oe=ne>1925?2800:2e3,ie=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).showReplyHandler=function(){a.setState({areRepliesVisible:!a.state.areRepliesVisible})},a.activateModal=function(){a.setState({helpWindowIsActive:!0})},a.deactivateModal=function(){a.setState({helpWindowIsActive:!1})},a.onAnnoTypeChange=function(e){return a.setState({annotationType:e.target.value,placeholder:e.target.placeholder,buttonContent:"Submit to your Solid POD"})},a.onMEIInputChange=function(e){a.setState({uri:e.target.value})},a.onSubmitMEI=function(){a.setState({isClicked:!0},(function(){a.hideMEIInput()}))},a.state={annoValue:"",selection:[],annotationType:"describing",placeholder:"Add your annotation...",uri:"https://raw.githubusercontent.com/trompamusic-encodings/Mahler_Symphony_No4_Doblinger-4hands/master/Mahler_No4_1-Doblinger-4hands.mei",selectorString:"",buttonContent:"Submit to your Solid POD",replyAnnotationTarget:[],currentAnnotation:[],toggleAnnotationRetrieval:!1,hasContent:!0,isClicked:!1,showMEIInput:!0,currentMedia:a.props.currentMedia||"",seekTo:"",measuresToAnnotationsMap:{},annoToDisplay:[],helpWindowIsActive:!1,replyAnnotationTargetId:"",areRepliesVisible:!1,vrvOptions:{scale:50,adjustPageHeight:0,pageHeight:ae,pageWidth:oe,footer:"none",unit:6}},a.handleSelectionChange=a.handleSelectionChange.bind(Object(O.a)(a)),a.handleScoreUpdate=a.handleScoreUpdate.bind(Object(O.a)(a)),a.handleStringChange=a.handleStringChange.bind(Object(O.a)(a)),a.onResponse=a.onResponse.bind(Object(O.a)(a)),a.onRefreshClick=a.onRefreshClick.bind(Object(O.a)(a)),a.onReceiveAnnotationContainerContent=a.onReceiveAnnotationContainerContent.bind(Object(O.a)(a)),a.onSubmitMEI=a.onSubmitMEI.bind(Object(O.a)(a)),a.onMEIInputChange=a.onMEIInputChange.bind(Object(O.a)(a)),a.hideMEIInput=a.hideMEIInput.bind(Object(O.a)(a)),a.onAnnoTypeChange=a.onAnnoTypeChange.bind(Object(O.a)(a)),a.onAnnoReplyHandler=a.onAnnoReplyHandler.bind(Object(O.a)(a)),a.convertCoords=a.convertCoords.bind(Object(O.a)(a)),a.activateModal=a.activateModal.bind(Object(O.a)(a)),a.deactivateModal=a.deactivateModal.bind(Object(O.a)(a)),a.onMediaClick=a.onMediaClick.bind(Object(O.a)(a)),a.showReplyHandler=a.showReplyHandler.bind(Object(O.a)(a)),a.handleAnnoShowingUpdate=a.handleAnnoShowingUpdate.bind(Object(O.a)(a)),a.zoomIn=a.zoomIn.bind(Object(O.a)(a)),a.zoomOut=a.zoomOut.bind(Object(O.a)(a)),a.player=o.a.createRef(),a.handlePageTurn=a.handlePageTurn.bind(Object(O.a)(a)),a}return Object(l.a)(n,[{key:"zoomIn",value:function(){var e=this.state.vrvOptions.scale,t=this.state.vrvOptions.pageHeight,n=this.state.vrvOptions.pageWidth,a=Object.assign({},this.state.vrvOptions);a.scale=e+5,a.pageHeight=t-5*a.scale,a.pageWidth=n-2*a.scale,a.scale<50&&(a.pageWidth=n-5*a.scale),a.scale<40&&(a.pageHeight=t-8*a.scale,a.pageWidth=n-5*a.scale),ne>=1925&&a.pageWidth>3500&&(a.pageWidth=3500),a.scale>=80?console.log("max zoom reached"):(console.log("ZOOM INCREASE",a.scale,"page w",a.pageWidth,"page h",a.pageHeight),this.setState({vrvOptions:a}))}},{key:"zoomOut",value:function(){var e=this.state.vrvOptions.scale,t=this.state.vrvOptions.pageHeight,n=this.state.vrvOptions.pageWidth,a=Object.assign({},this.state.vrvOptions);a.scale=e-5,a.pageHeight=t+5*a.scale,a.pageWidth=n+2*a.scale,a.scale<50&&(a.pageWidth=n+5*a.scale),a.scale<40&&(a.pageHeight=t+8*a.scale,a.pageWidth=n+5*a.scale),a.scale<=25?console.log("minimum zoom reached"):(console.log("ZOOM DECREASE",a.scale,"page w",a.pageWidth,"page h",a.pageHeight),this.setState({vrvOptions:a}))}},{key:"convertCoords",value:function(e){if(!document.getElementById(e.getAttribute("id"))||"none"===e.style.display||0===e.getBBox().x&&0===e.getBBox().y)return console.warn("Element unavailable on page: ",e.getAttribute("id")),{x:0,y:0,x2:0,y2:0};var t=e.getElementsByClassName("staff")[0],n=Array.prototype.filter.call(t.children,(function(e){return"path"===e.tagName}))[0].getBBox(),a=e.getBBox().x,o=n.width,i=e.getBBox().y,r=e.getBBox().height,s=e.closest("svg").parentElement.getBoundingClientRect(),l=e.getScreenCTM();return{x:l.a*a+l.c*i+l.e-s.left,y:l.b*a+l.d*i+l.f-s.top,x2:l.a*(a+o)+l.c*i+l.e-s.left,y2:l.b*a+l.d*(i+r)+l.f-s.top}}},{key:"handleStringChange",value:function(e){var t=this;this.setState({selectorString:e},(function(){return console.log(t.state.selectorString)}))}},{key:"handleSelectionChange",value:function(e){this.setState({selection:e})}},{key:"hideMEIInput",value:function(){this.setState({showMEIInput:!this.state.showMEIInput})}},{key:"onAnnoReplyHandler",value:function(e,t){this.setState({annotationType:"replying",placeholder:"you are replying to the selected annotation",buttonContent:"Reply to selected Solid annotation",replyAnnotationTarget:e,replyAnnotationTargetId:t})}},{key:"onResponse",value:function(e){var t=this;console.log(e),201===e.status?this.setState({toggleAnnotationRetrieval:!0},(function(){document.querySelector(".loading").classList.remove("hidden"),t.setState({toggleAnnotationRetrieval:!1,annotationType:"describing",replyAnnotationTarget:[],replyAnnotationTargetId:"",placeholder:"Add your annotation...",annoToDisplay:[]})})):404===e.status&&alert("folder not found, check your annotation container path!")}},{key:"onRefreshClick",value:function(){var e=this;!1!==this.state.hasContent&&this.setState({toggleAnnotationRetrieval:!0},(function(){document.querySelector(".loading").classList.remove("hidden"),e.setState({toggleAnnotationRetrieval:!1,annotationType:"describing",replyAnnotationTarget:[],replyAnnotationTargetId:"",placeholder:"Add your annotation...",annoToDisplay:[]})}))}},{key:"onMediaClick",value:function(e){var t=this;console.log("button click",e);var n=e.split("#")[0],a=e.split("#")[1].replace("t=","");console.log("Setting up seek to: ",n,a),this.setState({currentMedia:n},(function(){return t.player.current.seekTo(a)}))}},{key:"onReceiveAnnotationContainerContent",value:function(e){var t=this;if(!e||!e.length)return alert("no annotation to retrieve"),Array.from(document.getElementsByClassName("inFocus")).forEach((function(e){return e.classList.remove("inFocus")})),document.querySelectorAll(".measureBox").forEach((function(e){return e.remove()})),document.querySelectorAll(".measureBoxBackground").forEach((function(e){return e.remove()})),void this.setState({hasContent:!1},(function(){console.log(t.state.hasContent,"no content to retrieve"),t.setState({hasContent:!0})}));var n=(e=e.filter((function(e){return e["@id"].endsWith(".jsonld")}))).map((function(e){var t=[];if("replying"!==e.motivation){var n=e.target.map((function(e){var t=e.id,n=t.substr(t.lastIndexOf("#")),a=document.querySelector(n),o="";return a&&(o=a.closest(".measure")),o})).filter((function(e){return e}));t=Object(S.a)(new Set(n))}return{annoId:e["@id"],measures:t}})),a={};n.forEach((function(e){e.measures.forEach((function(t){var n=t.getAttribute("id");n in a?a[n].push(e.annoId):a[n]=[e.annoId]}))})),this.setState({currentAnnotation:e,measuresToAnnotationsMap:a},(function(){Array.from(document.getElementsByClassName("inFocus")).forEach((function(e){return e.classList.remove("inFocus")})),document.querySelectorAll(".measureBox").forEach((function(e){return e.remove()})),document.querySelectorAll(".measureBoxBackground").forEach((function(e){return e.remove()})),console.log("Mapped annotaitons ",a),console.log("current annotations ",e);var n=Object.keys(t.state.measuresToAnnotationsMap).filter((function(e){return document.querySelectorAll("#"+e).length}));console.log("Annotated measures on screen: ",n),n.forEach((function(n){var a=t.convertCoords(document.querySelector("#"+n));console.log("Coords: ",a);var o=document.createElement("div"),i=document.createElement("div"),r={left:Math.floor(a.x),top:Math.floor(a.y),width:Math.ceil(a.x2-a.x),height:Math.ceil(a.y2-a.y)};console.log("Coords box: ",r),o.setAttribute("id","measureBox-"+n),o.setAttribute("class","measureBox"),o.setAttribute("style","position: absolute;background: rgba(0, 0, 0, 0);left: "+r.left+"px;top: "+r.top+"px;width: "+r.width+"px;height: "+r.height+"px;z-index: 1"),i.setAttribute("id","measureBoxBackground-"+n),i.setAttribute("class","measureBoxBackground"),i.classList.remove("isOpen"),i.classList.add("isClosed"),i.setAttribute("style","position: absolute;left: "+r.left+"px;top: "+r.top+"px;width: "+r.width+"px;height: "+r.height+"px;z-index: -1"),console.log("TRYING TO DRAW",o),document.querySelector(".annotationBoxesContainer").appendChild(o),document.querySelector(".annotationBoxesContainer").appendChild(i),o.onclick=function(a){Array.from(document.getElementsByClassName("inFocus")).forEach((function(e){return e.classList.remove("inFocus")}));var o=document.querySelectorAll(".measureBoxBackground"),i=a.target.closest(".measureBox");o.forEach((function(e){e.classList.add("isClosed"),e.classList.remove("isOpen");var t=e.id.split("measureBoxBackground-")[1];i.id.split("measureBox-")[1]===t&&(e.classList.remove("isClosed"),e.classList.add("isOpen"))}));var r=Array.from(document.getElementsByClassName("showReply"));if(console.log("no longer showing ",r),r.length){!0===t.state.areRepliesVisible&&t.setState({areRepliesVisible:!1});var s=document.querySelector(".listContainer");console.log(s),r.forEach((function(e){e.classList.add("hiddenReply"),s.appendChild(e)})),r.forEach((function(e){return e.classList.remove("showReply")}))}t.handleAnnoShowingUpdate(e,n)}}))})),console.log("iteration succeded"),e.forEach((function(e){"replying"!==e.motivation&&e.target.forEach((function(t){var n=e.body,a=t.id,o=a.substr(a.lastIndexOf("#")),i=document.querySelector(o);if(!i)return console.warn("no content has been found");var r=e["@id"],s=r.substr(r.lastIndexOf("/")+1);switch(e.motivation){case"describing":n.length&&"value"in n[0]&&i.classList.add("focus-"+s);break;case"linking":n.length&&(i.classList.add("focus-"+s),i.classList.add("focus-"+s));break;case"trompa:cueMedia":case"trompa:cueImage":n.length&&i.classList.add("focus-"+s);break;case"trompa:playlist":return;default:console.log("sorry, don't know what to do for this annotation boss")}}))})),document.querySelector(".loading").classList.add("hidden")}},{key:"handleAnnoShowingUpdate",value:function(e,t){var n=e.map((function(e){return e["@id"]})),a=this.state.measuresToAnnotationsMap[t],o=n.filter((function(e){return a.includes(e)})),i=[].concat(Object(S.a)(o),Object(S.a)(e.filter((function(e){return"replying"===e.motivation})).map((function(e){return e["@id"]}))));console.log("to display: ",i),this.setState({annoToDisplay:i})}},{key:"handleScoreUpdate",value:function(e){console.log("Received updated score DOM element: ",e),this.onRefreshClick()}},{key:"handlePageTurn",value:function(){document.querySelectorAll(".measureBox").forEach((function(e){return e.remove()})),document.querySelectorAll(".measureBoxBackground").forEach((function(e){return e.remove()}))}},{key:"render",value:function(){var e=this,t=!!this.state.helpWindowIsActive&&o.a.createElement(_.a,{isOpen:this.state.helpWindowIsActive,onRequestClose:this.deactivateModal,contentLabel:"my modal",className:"mymodal",overlayClassName:"myoverlay",ariaHideApp:!1},o.a.createElement("div",null,o.a.createElement("header",{className:"modal-header"},o.a.createElement("h1",{className:"modal-title"},"Help section")),o.a.createElement("div",{className:"modal-body"},o.a.createElement("h3",null,"Below you can find some tips on how to use the annotation tool:"),o.a.createElement("br",null),o.a.createElement("div",{style:{height:500,overflow:"auto"}},o.a.createElement("h4",null,"How do I create an annotation?"),o.a.createElement("p",null,"- Select the type of selection you want to use (note, measure, directives etc)",o.a.createElement("br",null),o.a.createElement("br",null),"- Drag across the score in order to select the elements you want to annotate",o.a.createElement("br",null),o.a.createElement("br",null),"- You can select discontinuous measures by holding the shift key",o.a.createElement("br",null),o.a.createElement("br",null),"- Sometimes slurs can get in the way of your selection, you can deselect unwanted measures by holding the shift key and clicking on the measure you wish to deselect",o.a.createElement("br",null),o.a.createElement("br",null),"- Select the type of annotation you wish to submit (description, link etc)",o.a.createElement("br",null),o.a.createElement("br",null),"- Type the text or paste the URL you wish to attach to the annotation",o.a.createElement("br",null),o.a.createElement("br",null),"- Click the green submit button"),o.a.createElement("h4",null,"I made a mistake in my annotation, how can I delete it?"),o.a.createElement("p",null,"- You can delete you annotation by clicking the rubbish bin icon in the annotation item and click yes to delete it"),o.a.createElement("h4",null,"I have replied to an annotation but I can\u2019t see my reply, where is it?"),o.a.createElement("p",null,"- You can see all the replies to the specific annotation by clicking the \u201cshow replies button\u201d in the annotation you are replying to"),o.a.createElement("h4",null,"Can I create a different type of reply (media or image content)?"),o.a.createElement("p",null,"- Not right now, this feature will be released in a future version of the software"),o.a.createElement("h4",null,"How does the solid pod system work, is my data really safe?"),o.a.createElement("p",null,"- Solid was purposely built for data safety and protection, and by design everything contained in the pod is private unless specified. For more information visit the"," ",o.a.createElement("a",{href:"https://solidproject.org/",target:"_blank",rel:"noopener noreferrer"},"solid project")," ","page for more info"),o.a.createElement("h4",null,"I have found a bug, what can i do?"),o.a.createElement("p",null,"- Please submit a bug report to"," ",o.a.createElement("a",{href:"mailto:fzuba002@gold.ac.uk?subject=Bug report"},"fzuba002@gold.ac.uk")," ","describing the nature of the bug and how to reproduce it, make sure to include browser model and operating system used. Thanks! :)"))),o.a.createElement("footer",{className:"modal-footer"},o.a.createElement("button",{onClick:this.deactivateModal},"close"))));return o.a.createElement("div",null,!0===this.state.isClicked&&o.a.createElement("div",null,o.a.createElement("div",{className:"scoreContainer"},o.a.createElement("div",{className:"annotationBoxesContainer"}),o.a.createElement(x.a,{uri:this.state.uri,annotationContainerUri:this.props.submitUri,vrvOptions:this.state.vrvOptions,onSelectionChange:this.handleSelectionChange,selectorString:this.state.selectorString,onScoreUpdate:this.handleScoreUpdate,onReceiveAnnotationContainerContent:this.onReceiveAnnotationContainerContent,toggleAnnotationRetrieval:this.state.toggleAnnotationRetrieval,selectionArea:".scoreContainer"})),o.a.createElement("div",{className:"controls"},o.a.createElement("div",{className:"prevPageButton",onClick:this.handlePageTurn},o.a.createElement(B.a,{buttonContent:o.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"arrow-to-left",className:"svg-inline--fa fa-arrow-to-left fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"100%",height:"100%"},o.a.createElement("path",{fill:"grey",d:"M247.9 412.5l-148.4-148c-4.7-4.7-4.7-12.3 0-17l148.4-148c4.7-4.7 12.3-4.7 17 0l19.6 19.6c4.8 4.8 4.7 12.5-.2 17.1L187.2 230H436c6.6 0 12 5.4 12 12v28c0 6.6-5.4 12-12 12H187.2l97.1 93.7c4.8 4.7 4.9 12.4.2 17.1l-19.6 19.6c-4.7 4.8-12.3 4.8-17 .1zM52 436V76c0-6.6-5.4-12-12-12H12C5.4 64 0 69.4 0 76v360c0 6.6 5.4 12 12 12h28c6.6 0 12-5.4 12-12z"})),uri:this.state.uri})),o.a.createElement("button",{onClick:this.zoomOut,className:"zoomOut"},o.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"search-minus",className:"svg-inline--fa fa-search-minus fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"100%",height:"100%"},o.a.createElement("path",{fill:"grey",d:"M304 192v32c0 6.6-5.4 12-12 12H124c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"}))),o.a.createElement("button",{onClick:this.zoomIn,className:"zoomIn"},o.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"search-plus",className:"svg-inline--fa fa-search-plus fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"100%",height:"100%"},o.a.createElement("path",{fill:"grey",d:"M304 192v32c0 6.6-5.4 12-12 12h-56v56c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-56h-56c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h56v-56c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v56h56c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"}))),o.a.createElement("div",{className:"nextPageButton",onClick:this.handlePageTurn},o.a.createElement(I.a,{buttonContent:o.a.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"arrow-to-right",className:"svg-inline--fa fa-arrow-to-right fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"100%",height:"100%"},o.a.createElement("path",{fill:"grey",d:"M200.1 99.5l148.4 148c4.7 4.7 4.7 12.3 0 17l-148.4 148c-4.7 4.7-12.3 4.7-17 0l-19.6-19.6c-4.8-4.8-4.7-12.5.2-17.1l97.1-93.7H12c-6.6 0-12-5.4-12-12v-28c0-6.6 5.4-12 12-12h248.8l-97.1-93.7c-4.8-4.7-4.9-12.4-.2-17.1l19.6-19.6c4.7-4.9 12.3-4.9 17-.2zM396 76v360c0 6.6 5.4 12 12 12h28c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12h-28c-6.6 0-12 5.4-12 12z"})),uri:this.state.uri})))),this.state.showMEIInput&&o.a.createElement("div",null,o.a.createElement("p",null,"Select your MEI file:"),o.a.createElement("input",{type:"text",onChange:this.onMEIInputChange,placeholder:"mahler four hands rendition...",className:"sizedTextBox"}),o.a.createElement("input",{title:"click to render the linked MEI file",className:"MEIButton",type:"button",onClick:this.onSubmitMEI,value:"render"})),o.a.createElement(H,{selectorString:this.state.selectorString,handleStringChange:this.handleStringChange}),o.a.createElement(N,{onAnnoTypeChange:this.onAnnoTypeChange,uri:this.state.uri,submitUri:this.props.submitUri,selection:this.state.selection,onResponse:this.onResponse,onRefreshClick:this.onRefreshClick,annotationType:this.state.annotationType,placeholder:this.state.placeholder,replyAnnotationTarget:this.state.replyAnnotationTarget,buttonContent:this.state.buttonContent,creator:this.props.userId,selectorString:this.state.selectorString,replyAnnotationTargetId:this.state.replyAnnotationTargetId,replyAnnoBody:this.state.replyAnnoBody}),o.a.createElement(ee,{allEntries:this.state.currentAnnotation,onRefreshClick:this.onRefreshClick}),o.a.createElement(J,{allEntries:this.state.currentAnnotation,filteringEntries:this.state.annoToDisplay,onAnnoReplyHandler:this.onAnnoReplyHandler,onMediaClick:this.onMediaClick,replyAnnotationTarget:this.state.replyAnnotationTarget,showReplyHandler:this.showReplyHandler,areRepliesVisible:this.state.areRepliesVisible,onRefreshClick:this.onRefreshClick}),o.a.createElement("div",{className:"loading hidden"},"Loading...",o.a.createElement("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",className:"loader",height:"100%",width:"100%"},o.a.createElement("circle",{cx:"50",cy:"50",r:"45"}))),o.a.createElement("div",null,o.a.createElement("button",{onClick:this.activateModal,style:{padding:"5px",marginTop:"5px",marginLeft:"5px"}},"help"),t),o.a.createElement(K.a,{width:"80%",height:"80%",ref:this.player,url:this.state.currentMedia,controls:!0,onReady:function(){e.state.seekTo&&(console.log("Seeking to: ",e.state.seekTo),e.player.current.seekTo(Math.floor(e.state.seekTo)),e.setState({seekTo:""}))}}))}}]),n}(a.Component),re=n(207),se=n.n(re);function le(e){b.a.context.extend({trompa:"http://vocab.trompamusic.eu/vocab#"});var t=Object(y.a)("user.storage"),n=Object(y.a)("user"),i=Object(a.useState)("private/"),r=Object(v.a)(i,2),s=r[0],l=r[1];return o.a.createElement("div",{id:"authWrapper"},o.a.createElement(E.a,null,o.a.createElement("div",null,o.a.createElement("a",{href:"https://trompamusic.eu/",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{src:se.a,alt:"trompa logo"})),o.a.createElement("p",null,o.a.createElement(w.a,{className:"loginButton",popup:"auth-popup.html"},"Log in with Solid")))),o.a.createElement(A.a,null,o.a.createElement("a",{href:"https://trompamusic.eu/",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{src:se.a,alt:"trompa logo"})),o.a.createElement("h2",null,"Music scholars annotation tool"),o.a.createElement("p",null,"You are logged in as"," ",o.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},o.a.createElement(C.a,{src:"user.name"}))),o.a.createElement("p",{title:"close the current session and quit the app"},o.a.createElement(k.a,{className:"logoutButton"},"Log out")),o.a.createElement("p",{className:"noVis"},"Specify the annotation container path inside your Pod:"),o.a.createElement("div",{className:"noVis"},o.a.createElement("input",{title:"enter your preferred POD folder",type:"text",placeholder:"private/",onChange:function(e){e.target.value&&l(e.target.value)},className:"sizedTextBox"})),"undefined"!==typeof t?o.a.createElement(ie,{uri:e.uri,podUri:"".concat(t),submitUri:"".concat(t)+s,userId:"".concat(n)}):o.a.createElement("div",null,"Loading... ")))}var ce=Object(h.a)(p.a,g.a)(h.d),ue=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={MEI_URI:"Mahler.mei"},a.store=Object(h.d)(f.a),a}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement(d.a,{store:ce(f.a)},o.a.createElement(le,{uri:this.state.MEI_URI,handleMEIInput:this.handleMEIInput,onChange:this.onChange,value:this.state.value}))}}]),n}(a.Component);r.a.render(o.a.createElement(ue,null),document.querySelector(".container"))}},[[436,1,2]]]);
//# sourceMappingURL=main.a093fad8.chunk.js.map